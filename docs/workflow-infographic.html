<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Claims Detector - Current Workflow</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Inter', system-ui, sans-serif;
    background: #0a1628;
    color: #e0e8f0;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }

  .infographic {
    width: 1400px;
    background: linear-gradient(135deg, #0d1b2a 0%, #1b2d45 40%, #0d1b2a 100%);
    border-radius: 20px;
    padding: 40px 48px 36px;
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(33, 150, 243, 0.15);
  }

  /* Subtle grid overlay */
  .infographic::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(33, 150, 243, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(33, 150, 243, 0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
  }

  /* Corner glow */
  .infographic::after {
    content: '';
    position: absolute;
    top: -100px;
    right: -100px;
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, rgba(33, 150, 243, 0.08) 0%, transparent 70%);
    pointer-events: none;
  }

  .header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 36px;
    position: relative;
    z-index: 1;
  }

  .header h1 {
    font-size: 28px;
    font-weight: 800;
    color: #ffffff;
    letter-spacing: -0.5px;
  }

  .header h1 span {
    color: #64B5F6;
  }

  .targets {
    display: flex;
    gap: 16px;
  }

  .target-badge {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 600;
  }

  .target-badge.detection {
    background: rgba(102, 187, 106, 0.12);
    border: 1px solid rgba(102, 187, 106, 0.3);
    color: #81C784;
  }

  .target-badge.mapping {
    background: rgba(255, 167, 38, 0.12);
    border: 1px solid rgba(255, 167, 38, 0.3);
    color: #FFB74D;
  }

  .target-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
  }

  .target-badge.detection .target-dot { background: #66BB6A; }
  .target-badge.mapping .target-dot { background: #FFA726; }

  /* Steps row */
  .steps {
    display: flex;
    gap: 12px;
    position: relative;
    z-index: 1;
  }

  .step {
    flex: 1;
    position: relative;
  }

  .step-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 16px;
  }

  .step-icon {
    width: 44px;
    height: 44px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    flex-shrink: 0;
  }

  .step:nth-child(1) .step-icon { background: linear-gradient(135deg, #1565C0, #2196F3); }
  .step:nth-child(2) .step-icon { background: linear-gradient(135deg, #00695C, #26A69A); }
  .step:nth-child(3) .step-icon { background: linear-gradient(135deg, #6A1B9A, #AB47BC); }
  .step:nth-child(4) .step-icon { background: linear-gradient(135deg, #E65100, #FF9800); }
  .step:nth-child(5) .step-icon { background: linear-gradient(135deg, #2E7D32, #66BB6A); }

  .step-title {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    color: #90A4AE;
  }

  .step-card {
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 14px;
    padding: 20px 18px;
    min-height: 260px;
    position: relative;
  }

  .step:nth-child(1) .step-card { border-top: 3px solid #2196F3; }
  .step:nth-child(2) .step-card { border-top: 3px solid #26A69A; }
  .step:nth-child(3) .step-card { border-top: 3px solid #AB47BC; }
  .step:nth-child(4) .step-card { border-top: 3px solid #FF9800; }
  .step:nth-child(5) .step-card { border-top: 3px solid #66BB6A; }

  .step-card h3 {
    font-size: 14px;
    font-weight: 700;
    color: #ffffff;
    margin-bottom: 14px;
    line-height: 1.3;
  }

  .step-card p, .step-card li {
    font-size: 12px;
    line-height: 1.6;
    color: #B0BEC5;
  }

  .step-card ul {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .step-card li::before {
    content: '';
    display: inline-block;
    width: 5px;
    height: 5px;
    border-radius: 50%;
    margin-right: 8px;
    vertical-align: middle;
  }

  .step:nth-child(1) .step-card li::before { background: #64B5F6; }
  .step:nth-child(2) .step-card li::before { background: #80CBC4; }
  .step:nth-child(3) .step-card li::before { background: #CE93D8; }
  .step:nth-child(4) .step-card li::before { background: #FFB74D; }
  .step:nth-child(5) .step-card li::before { background: #A5D6A7; }

  .tag {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 6px;
    font-size: 10px;
    font-weight: 600;
    margin-top: 10px;
  }

  .tag.setup {
    background: rgba(33, 150, 243, 0.15);
    color: #64B5F6;
    border: 1px solid rgba(33, 150, 243, 0.3);
  }

  .tag.testing {
    background: rgba(255, 152, 0, 0.15);
    color: #FFB74D;
    border: 1px solid rgba(255, 152, 0, 0.3);
  }

  .tag.note {
    background: rgba(171, 71, 188, 0.15);
    color: #CE93D8;
    border: 1px solid rgba(171, 71, 188, 0.3);
  }

  .tag.pipeline {
    background: rgba(255, 152, 0, 0.15);
    color: #FFB74D;
    border: 1px solid rgba(255, 152, 0, 0.3);
  }

  /* Arrow connectors */
  .step:not(:last-child)::after {
    content: '';
    position: absolute;
    right: -9px;
    top: 50%;
    transform: translateY(-50%);
    width: 0;
    height: 0;
    border-top: 8px solid transparent;
    border-bottom: 8px solid transparent;
    border-left: 8px solid rgba(33, 150, 243, 0.4);
    z-index: 2;
  }

  /* Feedback buttons */
  .feedback-row {
    display: flex;
    gap: 8px;
    margin-top: 10px;
  }

  .fb-btn {
    padding: 5px 14px;
    border-radius: 6px;
    font-size: 11px;
    font-weight: 600;
    border: none;
    cursor: default;
  }

  .fb-btn.approve {
    background: rgba(102, 187, 106, 0.2);
    color: #81C784;
    border: 1px solid rgba(102, 187, 106, 0.3);
  }

  .fb-btn.reject {
    background: rgba(239, 83, 80, 0.2);
    color: #EF5350;
    border: 1px solid rgba(239, 83, 80, 0.3);
  }

  /* Bottom bar */
  .bottom-bar {
    display: flex;
    gap: 16px;
    margin-top: 24px;
    position: relative;
    z-index: 1;
  }

  .bottom-card {
    flex: 1;
    padding: 14px 20px;
    border-radius: 10px;
    font-size: 12px;
    line-height: 1.5;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .bottom-card.gap {
    background: rgba(255, 167, 38, 0.08);
    border: 1px solid rgba(255, 167, 38, 0.2);
    color: #FFB74D;
  }

  .bottom-card.next {
    background: rgba(102, 187, 106, 0.08);
    border: 1px solid rgba(102, 187, 106, 0.2);
    color: #81C784;
  }

  .bottom-icon {
    font-size: 18px;
    flex-shrink: 0;
  }

  .bottom-card strong {
    color: #ffffff;
    font-weight: 700;
  }

  .variance-note {
    font-size: 10px;
    color: #78909C;
    font-style: italic;
    margin-top: 6px;
  }
</style>
</head>
<body>

<div class="infographic">
  <!-- Header -->
  <div class="header">
    <h1><span>Claims Detector</span> &mdash; Current Workflow</h1>
    <div class="targets">
      <div class="target-badge detection">
        <span class="target-dot"></span>
        Detection target: >90%
      </div>
      <div class="target-badge mapping">
        <span class="target-dot"></span>
        Mapping target: >70%
      </div>
    </div>
  </div>

  <!-- 5 Steps -->
  <div class="steps">

    <!-- Step 1 -->
    <div class="step">
      <div class="step-header">
        <div class="step-icon">&#128218;</div>
        <div class="step-title">Step 1 - Reference<br>Library Setup</div>
      </div>
      <div class="step-card">
        <h3>Brand Reference PDFs</h3>
        <ul>
          <li>Clinical trials, prescribing info, journal articles</li>
          <li>Uploaded per brand (e.g., product PI, supporting studies)</li>
          <li>Text extracted via pdf-parse and stored in SQLite database</li>
        </ul>
        <div class="tag setup">One-time setup per brand</div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-header">
        <div class="step-icon">&#128196;</div>
        <div class="step-title">Step 2 - Document<br>Upload</div>
      </div>
      <div class="step-card">
        <h3>Promotional Document Upload</h3>
        <ul>
          <li>User uploads a promotional document (notes pages PDF)</li>
          <li>User selects brand context</li>
          <li>User selects AI model (Gemini, GPT-4o, or Claude)</li>
        </ul>
        <div class="tag testing">Model selection is for benchmarking only</div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-header">
        <div class="step-icon">&#129302;</div>
        <div class="step-title">Step 3 - AI Claim<br>Detection</div>
      </div>
      <div class="step-card">
        <h3>AI Scans Document Page by Page</h3>
        <ul>
          <li>Identifies claims: efficacy, safety, dosage, mechanism, comparative, regulatory</li>
          <li>Returns claim text + x,y coordinates for pin placement</li>
          <li>Currently detects claims in isolation (no reference awareness)</li>
        </ul>
        <p class="variance-note">~10-15% variance between runs</p>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-header">
        <div class="step-icon">&#128279;</div>
        <div class="step-title">Step 4 - Reference<br>Matching</div>
      </div>
      <div class="step-card">
        <h3>Two-Tier Pipeline</h3>
        <ul>
          <li><strong>Tier 1:</strong> Keyword pre-filter scores all brand refs, picks top 8</li>
          <li><strong>Tier 2:</strong> AI matches claim to reference with page/excerpts</li>
          <li>Top candidates narrowed to 1 best match per claim</li>
        </ul>
        <div class="tag pipeline">Runs per claim</div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-header">
        <div class="step-icon">&#9989;</div>
        <div class="step-title">Step 5 - Review<br>& Feedback</div>
      </div>
      <div class="step-card">
        <h3>Reviewer Validates Results</h3>
        <ul>
          <li>Reviewer sees claims pinned on PDF with mapped references</li>
          <li>Click-through to source reference document</li>
          <li>Approve/reject each claim-reference mapping</li>
        </ul>
        <div class="feedback-row">
          <span class="fb-btn approve">Approve</span>
          <span class="fb-btn reject">Reject</span>
        </div>
        <p style="font-size: 11px; color: #78909C; margin-top: 8px;">Feedback stored for future training</p>
      </div>
    </div>

  </div>

  <!-- Bottom bar -->
  <div class="bottom-bar">
    <div class="bottom-card gap">
      <span class="bottom-icon">&#9888;&#65039;</span>
      <span><strong>GAP:</strong> Detection currently has no awareness of reference library &rarr; Misses granular claims</span>
    </div>
    <div class="bottom-card next">
      <span class="bottom-icon">&#128640;</span>
      <span><strong>NEXT:</strong> Reference Fact Index to feed detection prompt with brand-specific knowledge</span>
    </div>
  </div>
</div>

</body>
</html>
